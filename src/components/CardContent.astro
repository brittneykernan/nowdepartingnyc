---
import { Image } from "astro:assets";

const {
  comingSoon,
  height,
  hideTitle = false,
  image: { alt, src },
  title,
  subtitle,
  transitionName,
} = Astro.props;
---

<div class:list={[{ "coming-soon": comingSoon }]}>
  <Image
    src={src}
    height={height}
    alt={alt}
    transition:name=`${transitionName}-image`
  />
  <h2
    class:list={["card-title", { hide: hideTitle, comingSoon: comingSoon }]}
    transition:name=`${transitionName}-title`
  >
    {title},
    <span class="card-subtitle">{subtitle}</span>
  </h2>
</div>

<style>
  .coming-soon {
    opacity: 0.5;
  }
  .card-title {
    margin: var(--space-l) 0 0 -5px;
    display: flex;
    flex-direction: column;
    font-size: var(--font-xl);
    line-height: var(--line-l);
    font-weight: 300;
  }
  .card-title.hide {
    display: none;
  }
  .card-subtitle {
    font-size: var(--font-s);
    line-height: var(--line-s);
    font-weight: 500;
    margin-left: 4px;
  }

  img {
    height: auto;
    width: 100%;
    display: block;
    margin-bottom: 0;
    box-shadow: 1.5rem 1rem 2rem rgba(0, 0, 0, 0.25);
    transition: transform 0.5s;
  }
  @media screen and (min-width: 768px) {
    img {
      min-width: 100%;
    }
  }
</style>
